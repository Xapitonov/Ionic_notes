{"version":3,"file":"src_app_viewAndEditList_viewAndEditList_module_ts.js","mappings":"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","sources":["./src/app/viewAndEditList/viewAndEditList-routing.module.ts","./src/app/viewAndEditList/viewAndEditList.module.ts","./src/app/viewAndEditList/viewAndEditList.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ViewAndEditListPage } from './viewAndEditList.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ViewAndEditListPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ViewAndEditListPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ViewAndEditListPageRoutingModule } from './viewAndEditList-routing.module';\r\n\r\nimport { ViewAndEditListPage } from './viewAndEditList.page';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ViewAndEditListPageRoutingModule,\r\n    TranslateModule\r\n  ],\r\n  declarations: [ViewAndEditListPage]\r\n})\r\nexport class ViewAndEditListPageModule {}\r\n","/*\r\n               _____            _        _   _       _            \r\n              |_   _|          (_)      | \\ | |     | |           \r\n                | |  ___  _ __  _  ___  |  \\| | ___ | |_ ___  ___ \r\n                | | / _ \\| '_ \\| |/ __| | . ` |/ _ \\| __/ _ \\/ __|\r\n               _| || (_) | | | | | (__  | |\\  | (_) | ||  __/\\__ \\\r\n              |_____\\___/|_| |_|_|\\___| |_| \\_|\\___/ \\__\\___||___/\r\n\r\n             \r\n   Copyright [2021] [KurXZ] [https:github.com/kurxz]\r\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\r\n   you may not use this file except in compliance with the License.\r\n   You may obtain a copy of the License at\r\n\r\n    http:www.apache.org/licenses/LICENSE-2.0\r\n\r\n   Unless required by applicable law or agreed to in writing, software\r\n   distributed under the License is distributed on an \"AS IS\" BASIS,\r\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n   See the License for the specific language governing permissions and\r\n   limitations under the License.    \r\n\r\n*/\r\n\r\nimport { Component, OnInit } from \"@angular/core\";\r\nimport { Router, ActivatedRoute } from \"@angular/router\";\r\nimport { AlertController } from \"@ionic/angular\";\r\nimport { DatabaseService } from \"../services/database.service\";\r\nimport * as moment from 'moment';\r\nimport { TranslateService } from \"@ngx-translate/core\";\r\n\r\n@Component({\r\n  selector: \"app-viewAndEditList\",\r\n  templateUrl: \"./viewAndEditList.page.html\",\r\n  styleUrls: [\"./viewAndEditList.page.scss\"],\r\n})\r\nexport class ViewAndEditListPage implements OnInit {\r\n  data: any;\r\n  id: number;\r\n  oldList: any;\r\n  list: any = null;\r\n  title: string;\r\n\r\n  created: Date;\r\n\r\n  yesAnswer: string;\r\n  noAnswer: string;\r\n  alert: string;\r\n  alertText: string;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private alertController: AlertController,\r\n    private database: DatabaseService,\r\n    private translate: TranslateService\r\n  ) {\r\n    this.getTranslations();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.route.queryParams.subscribe(async (params) => {\r\n      if (this.router.getCurrentNavigation().extras.state != null) {\r\n        this.data = null;\r\n        this.data = this.router.getCurrentNavigation().extras.state.data;\r\n\r\n        this.id = this.data.id;\r\n        this.created = this.data.created;\r\n        this.oldList = this.data.list;\r\n        this.title = this.oldList.title;\r\n        this.created = this.data.list.createdat;\r\n\r\n        await this.oldListToNew();\r\n      } else {\r\n        this.goToHomePage();\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    delete this.data;\r\n    delete this.id;\r\n    delete this.list;\r\n    delete this.oldList;\r\n    delete this.created;\r\n    delete this.id;\r\n    delete this.title;\r\n  }\r\n\r\n  async getTranslations() {\r\n    await this.translate\r\n      .get(\"translations.viewAndEditPage\")\r\n      .subscribe((translation) => {\r\n        this.alertText = translation.alertText;\r\n      });\r\n\r\n    await this.translate\r\n      .get(\"translations.general\")\r\n      .subscribe((translation) => {\r\n        this.yesAnswer = translation.yesAnswer;\r\n        this.noAnswer = translation.noAnswer;\r\n        this.alert = translation.alert;\r\n      });\r\n  }\r\n\r\n  async oldListToNew() {\r\n    this.list = [];\r\n\r\n    var arraySize = this.oldList.myLists.length;\r\n\r\n    for (var i = 0; i < arraySize; i++) {\r\n      this.list.push({\r\n        item: this.oldList.myLists[i].item,\r\n        isDone: this.oldList.myLists[i].isDone,\r\n      });\r\n    }\r\n  }\r\n\r\n  async filterEntry() {\r\n    var filteredEntries = this.list.filter(this.deleteEmptyEntry);\r\n    this.list = filteredEntries;\r\n  }\r\n\r\n  deleteEmptyEntry(obj) {\r\n    if (\"item\" in obj && typeof obj.item === \"string\" && obj.item !== \"\") {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  Add() {\r\n    this.list.push({ item: \"\", isDone: false });\r\n  }\r\n\r\n  RemoveItem(index) {\r\n    this.list.splice(index, 1);\r\n  }\r\n\r\n  goToHomePage() {\r\n    this.router.navigate([\"/home\"]);\r\n  }\r\n\r\n  async Update() {\r\n    var arrayLength = this.list.length;\r\n\r\n    if (arrayLength > 0) {\r\n      await this.filterEntry();\r\n\r\n      let data = {\r\n        title: this.title,\r\n        myLists: this.list,\r\n        createdat: this.created,\r\n        edited: Date.now(),\r\n      };\r\n\r\n      await this.database.Insert(this.id, data);\r\n\r\n      this.goToHomePage();\r\n    } else {\r\n    }\r\n  }\r\n\r\n  async Delete() {\r\n    const alert = await this.alertController.create({\r\n      cssClass: \"my-custom-class\",\r\n      header: this.alert,\r\n      message: this.alertText,\r\n      buttons: [\r\n        {\r\n          text: this.noAnswer,\r\n          role: \"cancel\",\r\n          cssClass: \"secondary\",\r\n        },\r\n        {\r\n          text: this.yesAnswer,\r\n          handler: () => {\r\n            this.database.Delete(this.id);\r\n            this.goToHomePage();\r\n          },\r\n        },\r\n      ],\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n\r\n  async msgAlertOK(message) {\r\n    const alert = await this.alertController.create({\r\n      cssClass: \"my-custom-class\",\r\n      header: \"Alert\",\r\n      message: message,\r\n      buttons: [\"OK\"],\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n\r\n  formatDates(date) {\r\n    var result = moment(date).format(\"D MMMM YYYY, h:mm:ss a\");\r\n    return result;\r\n  }\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}