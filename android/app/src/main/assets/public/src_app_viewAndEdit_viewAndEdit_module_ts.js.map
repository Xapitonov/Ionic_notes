{"version":3,"file":"src_app_viewAndEdit_viewAndEdit_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACc;AAEF;AAErD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,8DAAe;KAC3B;CACF,CAAC;IAMW,4BAA4B,SAA5B,4BAA4B;CAAG;AAA/B,4BAA4B;IAJxC,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,4BAA4B,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;AChBA;AACM;AACF;AAEA;AAE+B;AAEvB;AACC;IAYzC,sBAAsB,SAAtB,sBAAsB;CAAG;AAAzB,sBAAsB;IAVlC,uDAAQ,CAAC;QACR,OAAO,EAAE;YACP,yDAAY;YACZ,uDAAW;YACX,uDAAW;YACX,qFAA4B;YAC5B,gEAAe;SAChB;QACD,YAAY,EAAE,CAAC,8DAAe,CAAC;KAChC,CAAC;GACW,sBAAsB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;ACrBnC;;;;;;;;;;;;;;;;;;;;;;;EAuBE;;;;AAEgD;AACO;AACR;AACM;AACQ;AAC9B;IAOpB,eAAe,SAAf,eAAe;IAc1B,YACU,KAAqB,EACrB,MAAc,EACd,QAAyB,EACzB,eAAgC,EAChC,SAA2B;QAJ3B,UAAK,GAAL,KAAK,CAAgB;QACrB,WAAM,GAAN,MAAM,CAAQ;QACd,aAAQ,GAAR,QAAQ,CAAiB;QACzB,oBAAe,GAAf,eAAe,CAAiB;QAChC,cAAS,GAAT,SAAS,CAAkB;QAhBrC,OAAE,GAAW,IAAI,CAAC;QAIlB,WAAM,GAAW,IAAI,CAAC;QAcpB,IAAI,CAAC,eAAe,EAAE,CAAC;IAEzB,CAAC;IAEK,eAAe;;YACnB,MAAM,IAAI,CAAC,SAAS;iBACjB,GAAG,CAAC,8BAA8B,CAAC;iBACnC,SAAS,EAAE;iBACX,IAAI,CAAC,CAAC,WAAW,EAAE,EAAE;gBACpB,IAAI,CAAC,SAAS,GAAG,WAAW,CAAC,SAAS,CAAC;YACzC,CAAC,CAAC,CAAC;YAEL,MAAM,IAAI,CAAC,SAAS;iBACjB,GAAG,CAAC,sBAAsB,CAAC;iBAC3B,SAAS,EAAE;iBACX,IAAI,CAAC,CAAC,WAAW,EAAE,EAAE;gBACpB,IAAI,CAAC,SAAS,GAAG,WAAW,CAAC,SAAS,CAAC;gBACvC,IAAI,CAAC,QAAQ,GAAG,WAAW,CAAC,QAAQ,CAAC;gBACrC,IAAI,CAAC,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC;YACjC,CAAC,CAAC,CAAC;QACP,CAAC;KAAA;IAED,QAAQ;QACN,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,MAAM,EAAE,EAAE;YAC1C,IAAI,IAAI,CAAC,MAAM,CAAC,oBAAoB,EAAE,CAAC,MAAM,CAAC,KAAK,IAAI,IAAI,EAAE;gBAC3D,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,oBAAoB,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC;gBACjE,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;gBACvB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;gBACrC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;gBACnC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;gBACxC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;aACrC;iBAAM;gBACL,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;aACjC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAGD,gBAAgB;QAEd,OAAO,IAAI,CAAC,IAAI,CAAC;QACjB,OAAO,IAAI,CAAC,EAAE;QACd,OAAO,IAAI,CAAC,QAAQ,CAAC;QACrB,OAAO,IAAI,CAAC,OAAO;QACnB,OAAO,IAAI,CAAC,OAAO;QACnB,OAAO,IAAI,CAAC,MAAM;IAEpB,CAAC;IAED,YAAY;QACV,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;IAClC,CAAC;IAEK,MAAM;;YACV,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,QAAQ,EAAE,iBAAiB;gBAC3B,MAAM,EAAE,IAAI,CAAC,KAAK;gBAClB,OAAO,EAAE,IAAI,CAAC,SAAS;gBACvB,OAAO,EAAE;oBACP;wBACE,IAAI,EAAE,IAAI,CAAC,QAAQ;wBACnB,IAAI,EAAE,QAAQ;wBACd,QAAQ,EAAE,WAAW;qBACtB;oBACD;wBACE,IAAI,EAAE,IAAI,CAAC,SAAS;wBACpB,OAAO,EAAE,GAAG,EAAE;4BACZ,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;4BAC9B,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;wBAClC,CAAC;qBACF;iBACF;aACF,CAAC,CAAC;YAEH,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC;KAAA;IAEK,MAAM;;YAEV,IAAI,IAAI,GAAG;gBACT,KAAK,EAAE,IAAI,CAAC,QAAQ;gBACpB,IAAI,EAAE,IAAI,CAAC,OAAO;gBAClB,SAAS,EAAE,IAAI,CAAC,OAAO;gBACvB,MAAM,EAAE,IAAI,CAAC,GAAG,EAAE;aACnB,CAAC;YAEF,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;YACpC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;QAClC,CAAC;KAAA;IAED,WAAW,CAAC,IAAI;QACd,IAAI,MAAM,GAAG,mCAAM,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,wBAAwB,CAAC;QAC1D,OAAO,MAAM;IACd,CAAC;CAEH;;YA/HgB,2DAAc;YAAtB,mDAAM;YAGN,uEAAe;YAFf,2DAAe;YACf,iEAAgB;;AASZ,eAAe;IAL3B,wDAAS,CAAC;QACT,QAAQ,EAAE,gBAAgB;QAC1B,wEAAsC;;KAEvC,CAAC;GACW,eAAe,CAoH3B;AApH2B","sources":["./src/app/viewAndEdit/viewAndEdit-routing.module.ts","./src/app/viewAndEdit/viewAndEdit.module.ts","./src/app/viewAndEdit/viewAndEdit.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { viewAndEditPage } from './viewAndEdit.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: viewAndEditPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class viewAndEditPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { viewAndEditPageRoutingModule } from './viewAndEdit-routing.module';\r\n\r\nimport { viewAndEditPage } from './viewAndEdit.page';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    viewAndEditPageRoutingModule,\r\n    TranslateModule\r\n  ],\r\n  declarations: [viewAndEditPage]\r\n})\r\nexport class viewAndEditPageeModule {}\r\n","/*\r\n               _____            _        _   _       _            \r\n              |_   _|          (_)      | \\ | |     | |           \r\n                | |  ___  _ __  _  ___  |  \\| | ___ | |_ ___  ___ \r\n                | | / _ \\| '_ \\| |/ __| | . ` |/ _ \\| __/ _ \\/ __|\r\n               _| || (_) | | | | | (__  | |\\  | (_) | ||  __/\\__ \\\r\n              |_____\\___/|_| |_|_|\\___| |_| \\_|\\___/ \\__\\___||___/\r\n\r\n             \r\n   Copyright [2021] [KurXZ] [https:github.com/kurxz]\r\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\r\n   you may not use this file except in compliance with the License.\r\n   You may obtain a copy of the License at\r\n\r\n    http:www.apache.org/licenses/LICENSE-2.0\r\n\r\n   Unless required by applicable law or agreed to in writing, software\r\n   distributed under the License is distributed on an \"AS IS\" BASIS,\r\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n   See the License for the specific language governing permissions and\r\n   limitations under the License.    \r\n\r\n*/\r\n\r\nimport { Component, OnInit } from \"@angular/core\";\r\nimport { Router, ActivatedRoute } from \"@angular/router\";\r\nimport { AlertController } from \"@ionic/angular\";\r\nimport { TranslateService } from \"@ngx-translate/core\";\r\nimport { DatabaseService } from \"../services/database.service\";\r\nimport * as moment from 'moment';\r\n\r\n@Component({\r\n  selector: \"app-visualizar\",\r\n  templateUrl: \"./viewAndEdit.page.html\",\r\n  styleUrls: [\"./viewAndEdit.page.scss\"],\r\n})\r\nexport class viewAndEditPage implements OnInit {\r\n\r\n  data: any;\r\n  id: number = null;\r\n  newTitle: string;\r\n  newText: string;\r\n  created: any;\r\n  edited: string = null;\r\n\r\n  yesAnswer: string;\r\n  noAnswer: string;\r\n  alert: string;\r\n  alertText: string;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private database: DatabaseService,\r\n    private alertController: AlertController,\r\n    private translate: TranslateService\r\n  ) {\r\n    this.getTranslations();\r\n\r\n  }\r\n\r\n  async getTranslations() {\r\n    await this.translate\r\n      .get(\"translations.viewAndEditPage\")\r\n      .toPromise()\r\n      .then((translation) => {\r\n        this.alertText = translation.alertText;\r\n      });\r\n\r\n    await this.translate\r\n      .get(\"translations.general\")\r\n      .toPromise()\r\n      .then((translation) => {\r\n        this.yesAnswer = translation.yesAnswer;\r\n        this.noAnswer = translation.noAnswer;\r\n        this.alert = translation.alert;\r\n      });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.route.queryParams.subscribe((params) => {\r\n      if (this.router.getCurrentNavigation().extras.state != null) {\r\n        this.data = this.router.getCurrentNavigation().extras.state.data;\r\n        this.id = this.data.id;\r\n        this.newTitle = this.data.note.title;\r\n        this.newText = this.data.note.text;\r\n        this.created = this.data.note.createdat;\r\n        this.edited = this.data.note.edited;\r\n      } else {\r\n        this.router.navigate([\"/home\"]);\r\n      }\r\n    });\r\n  }\r\n\r\n  \r\n  ionViewWillLeave () {\r\n\r\n    delete this.data;\r\n    delete this.id\r\n    delete this.newTitle;\r\n    delete this.newText\r\n    delete this.created\r\n    delete this.edited\r\n  \r\n  }\r\n\r\n  goToHomePage() {\r\n    this.router.navigate([\"/home\"]);\r\n  }\r\n\r\n  async Delete() {\r\n    const alert = await this.alertController.create({\r\n      cssClass: \"my-custom-class\",\r\n      header: this.alert,\r\n      message: this.alertText,\r\n      buttons: [\r\n        {\r\n          text: this.noAnswer,\r\n          role: \"cancel\",\r\n          cssClass: \"secondary\",\r\n        },\r\n        {\r\n          text: this.yesAnswer,\r\n          handler: () => {\r\n            this.database.Delete(this.id);\r\n            this.router.navigate([\"/home\"]);\r\n          },\r\n        },\r\n      ],\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n\r\n  async Update() {\r\n  \r\n    let data = {\r\n      title: this.newTitle,\r\n      text: this.newText,\r\n      createdat: this.created,\r\n      edited: Date.now(),\r\n    };\r\n\r\n    this.database.Update(this.id, data);\r\n    this.router.navigate([\"/home\"]);\r\n  }\r\n\r\n  formatDates(date){\r\n    var result = moment(date).format('D MMMM YYYY, h:mm:ss a')\r\n    return result\r\n   }\r\n\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}